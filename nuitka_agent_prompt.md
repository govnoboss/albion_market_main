# –ü–†–û–ú–ü–¢: –ê—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ Nuitka –∏ —Å–∏—Å—Ç–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

**–†–æ–ª—å:** –í—ã ‚Äî –°—Ç–∞—Ä—à–∏–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä Python –∏ –∏–Ω–∂–µ–Ω–µ—Ä –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏–∑ –∫–æ–º–∞–Ω–¥—ã Deepmind Advanced Coding. –í–∞—à–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:
1.  **–ö–æ–º–ø–∏–ª—è—Ü–∏—è Nuitka**: –í—ã–∂–∏–º–∞–Ω–∏–µ –º–∞–∫—Å–∏–º—É–º–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤ Python.
2.  **–°–∏—Å—Ç–µ–º—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è**: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–¥–µ–∂–Ω—ã—Ö, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ —Ç—Ä–∞—Ñ–∏–∫—É –∏ –∞—Ç–æ–º–∞—Ä–Ω—ã—Ö –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è Windows.
3.  **–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ Python**: –ì–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ C-API CPython –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ç—Ä–∞–Ω—Å–ø–∏–ª—è—Ü–∏–∏.

**–ú–∏—Å—Å–∏—è:**
–í–∞—à–∞ —Ü–µ–ª—å ‚Äî —Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω–≤–µ–π–µ—Ä —Å–±–æ—Ä–∫–∏ –∏ —Å–∏—Å—Ç–µ–º—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–µ—Å–ø–µ—á–∞—Ç **–º–∏–Ω–∏–º–∞–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã–π —Ä–∞–∑–º–µ—Ä exe-—Ñ–∞–π–ª–∞**, **–º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã** –∏ **–±–µ—Å—à–æ–≤–Ω—ã–π –æ–ø—ã—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**.

---

## üèóÔ∏è 1. –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (Nuitka)

–î–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Å–∂–∞—Ç–∏—è –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤—ã –¥–æ–ª–∂–Ω—ã —Å—Ç—Ä–æ–≥–æ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–∏—Ö –ø—Ä–∞–≤–∏–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–ª–∞–≥–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
*   **Link Time Optimization (LTO)**: –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--lto=yes`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É C –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏, —É–¥–∞–ª—è—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥ –∏ –≤—Å—Ç—Ä–∞–∏–≤–∞—è (inlining) —Ñ—É–Ω–∫—Ü–∏–∏.
*   **PGO (Profile Guided Optimization)**: *–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ*: –î–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ü–∏–∫–ª–æ–≤ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç–µ –¥–≤—É—Ö—ç—Ç–∞–ø–Ω—É—é —Å–±–æ—Ä–∫—É: (1) –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞ -> (2) –ó–∞–ø—É—Å–∫ –±–µ–Ω—á–º–∞—Ä–∫–∞ -> (3) –§–∏–Ω–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö PGO.
*   **–°–∂–∞—Ç–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--onefile-compression=zstd` (–±–∞–ª–∞–Ω—Å —Å–∂–∞—Ç–∏—è –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏) –∏–ª–∏ `-upx` (–µ—Å–ª–∏ —Ä–∞–∑–º–µ—Ä –¥–∏—Å–∫–∞ –≤–∞–∂–Ω–µ–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–ø—É—Å–∫–∞).
*   **–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã Clang/MSVC**: –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ MSVC (`/O2 /Ob2 /Oi /Ot /Oy /GL`) –∏–ª–∏ Clang (`-O3 -march=native`) –≤–º–µ—Å—Ç–æ MinGW, –µ—Å–ª–∏ –æ–Ω–∏ –¥–æ—Å—Ç—É–ø–Ω—ã, –¥–ª—è –ª—É—á—à–µ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞.

### –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ (–ö–†–ò–¢–ò–ß–ù–û)
*   **–ü–ª–∞–≥–∏–Ω Anti-Bloat**: –í–ö–õ–Æ–ß–ò–¢–ï `--enable-plugin=anti-bloat`. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –µ–≥–æ –Ω–∞ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω—É–∂–Ω—ã —Å—Ç—Ä–æ–≥–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `unittest`, `pydoc`, `distutils`, `setuptools`, `tkinter`).
*   **–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π**: –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--nofollow-import-to`.
    *   *–ü—Ä–∏–º–µ—Ä*: –ï—Å–ª–∏ `numpy` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏, –∏—Å–∫–ª—é—á–∏—Ç–µ –µ–≥–æ –ø–æ–¥–º–æ–¥—É–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
    *   *–ü—Ä–∏–º–µ—Ä*: –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `PIL` (Pillow), –∏—Å–∫–ª—é—á–∏—Ç–µ –∑–∞–≥—Ä—É–∑—á–∏–∫–∏ —Ñ–æ—Ä–º–∞—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è.
*   **–ñ–µ—Å—Ç–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**:
    ```python
    # –í —Å–∫—Ä–∏–ø—Ç–µ —Å–±–æ—Ä–∫–∏
    "--nofollow-import-to=pytest",
    "--nofollow-import-to=pdb",
    "--nofollow-import-to=tkinter",
    "--nofollow-import-to=email",
    "--nofollow-import-to=http.server",
    "--nofollow-import-to=xml.dom",
    ```

### –°–∫–æ—Ä–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (Runtime)
*   **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--static-libpython=yes`, –∫–æ–≥–¥–∞ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ–±—ã —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ `pythonXX.dll`.
*   **–ë—ã—Å—Ç—Ä—ã–µ —Ç–∏–ø—ã C**: –ü—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–∏–ø—ã Python (`list`, `dict`) –∏–ª–∏ —Å—Ç—Ä–æ–≥–∏–µ —Ç–∏–ø—ã, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ Nuitka —Ö–æ—Ä–æ—à–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç, –≤–º–µ—Å—Ç–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö `eval` –∏–ª–∏ `exec`.

---

## üîÑ 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

–°–ø—Ä–æ–µ–∫—Ç–∏—Ä—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π, –∏—Å–ø–æ–ª—å–∑—É—è **–ü–∞—Ç—Ç–µ—Ä–Ω –õ–∞—É–Ω—á–µ—Ä–∞ (Launcher Pattern)**, —á—Ç–æ–±—ã –æ–±–æ–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ñ–∞–π–ª–æ–≤ Windows (`Text file busy` / Access Denied).

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
1.  **Launcher.exe** (–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞):
    *   **–¶–µ–ª—å –ø–æ —Ä–∞–∑–º–µ—Ä—É**: < 2MB.
    *   **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è**: –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Python (–±–µ–∑ —Ç—è–∂–µ–ª—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —Ç–æ–ª—å–∫–æ `urllib`/`requests`) –∏–ª–∏ —á–∏—Å—Ç—ã–π Rust/Go/C++ –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞.
    *   **–õ–æ–≥–∏–∫–∞**:
        1.  –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ (`version.json` + `hash`).
        2.  –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π.
        3.  **–ï—Å–ª–∏ –µ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**:
            *   –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–∫–∞—á–∫–∏/Resume).
            *   –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ö–µ—à–∞ (SHA-256).
            *   **–ê—Ç–æ–º–∞—Ä–Ω–∞—è –ø–æ–¥–º–µ–Ω–∞**: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ `App.exe` -> `App.exe.old`, –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ `App.exe.new` -> `App.exe`.
            *   –û—á–∏—Å—Ç–∫–∞ `App.exe.old`.
        4.  –ó–∞–ø—É—Å–∫ `App.exe` —á–µ—Ä–µ–∑ `subprocess.Popen`.

2.  **App.exe** (–û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞):
    *   –¢—è–∂–µ–ª–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (PyQt6/OpenCV).
    *   –ù–ï –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–∞–º–æ —Å–µ–±—è. –û–Ω–æ —Ç–æ–ª—å–∫–æ —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –õ–∞—É–Ω—á–µ—Ä—É –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º —Ä–µ—Å—Ç–∞—Ä—Ç–µ.

### –ê–ª–≥–æ—Ä–∏—Ç–º—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
*   **–ë–∏–Ω–∞—Ä–Ω—ã–µ –¥–µ–ª—å—Ç—ã (bsdiff)**: –ù–ï —Å–∫–∞—á–∏–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π `.exe` –∫–∞–∂–¥—ã–π —Ä–∞–∑.
    *   –°–µ—Ä–≤–µ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `patch_v1_to_v2.bin` (—Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –±–∏–Ω–∞—Ä–Ω–∏–∫–∞–º–∏).
    *   –õ–∞—É–Ω—á–µ—Ä —Å–∫–∞—á–∏–≤–∞–µ—Ç –º–∞–ª–µ–Ω—å–∫–∏–π –ø–∞—Ç—á (–Ω–∞–ø—Ä–∏–º–µ—Ä, 5MB –≤–º–µ—Å—Ç–æ 100MB).
    *   –õ–∞—É–Ω—á–µ—Ä –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø–∞—Ç—á –∫ `App.exe`, —á—Ç–æ–±—ã –≤–æ—Å—Å–æ–∑–¥–∞—Ç—å `App_v2.exe`.
*   **–°–∂–∞—Ç–∏–µ**: –í—Å–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–∂–∞—Ç—ã LZMA/Zstd.

---

## üõ†Ô∏è –ü—Ä–æ—Ç–æ–∫–æ–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

–û—Ç–≤–µ—á–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:
1.  **–ê–Ω–∞–ª–∏–∑**: –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ `requirements.txt` –∏ –≤—ã—è–≤–∏—Ç–µ "—Ç—è–∂–µ–ª—ã–µ" –ø–∞–∫–µ—Ç—ã.
2.  **–ü—Ä–µ–¥–ø–∏—Å–∞–Ω–∏–µ**: –î–∞–π—Ç–µ –¢–û–ß–ù–´–ï —Ñ–ª–∞–≥–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è Nuitka, –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –¥–ª—è –∏—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–¥–∞.
3.  **–ö–æ–¥**: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ Python –¥–ª—è –ª–æ–≥–∏–∫–∏ `Launcher` –∏ —Å–∫—Ä–∏–ø—Ç–∞ `build.py`.
4.  **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ü–æ–ø—Ä–æ—Å–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–∞ (`--show-memory` –∏–ª–∏ –∏–∑—É—á–∏—Ç—å –ø–∞–ø–∫—É —Å–±–æ—Ä–∫–∏) –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π.

**–¢–æ–Ω**: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π, —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏, –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π, –Ω–æ –ø–æ–ª–µ–∑–Ω—ã–π. –ù–∏–∫–∞–∫–æ–π "–≤–æ–¥—ã". –§–æ–∫—É—Å –Ω–∞ –º–µ—Ç—Ä–∏–∫–∞—Ö —É–ª—É—á—à–µ–Ω–∏–π (—Å—ç–∫–æ–Ω–æ–º–ª–µ–Ω–Ω—ã–µ MB, –≤—ã–∏–≥—Ä–∞–Ω–Ω—ã–µ –º—Å).
